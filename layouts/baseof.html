<!DOCTYPE html>
<html class="bg-base-200" lang="{{ site.Language.LanguageCode }}" dir="{{ or site.Language.LanguageDirection `ltr` }}">
  <head>
    {{ partial "head.html" . }}
  </head>
  <body>
    <header class="sticky bg-base-200/80 backdrop-blur-sm top-0 z-50">
      {{ partial "header.html" . }}
    </header>
    
    <!-- Main Content -->
    <main class="px-4 py-12 sm:py-16 max-w-3xl mx-auto">
      {{ block "main" . }}{{ end }}
    </main>

    <footer class="flex justify-center border-t border-base-content/15">
      {{ partial "footer.html" . }}
    </footer>

    {{/*  Javascript  */}}
    <script>
      const themeToggle = document.getElementById('theme-toggle');

      // Initialize theme from localStorage
      const storedTheme = localStorage.getItem('theme');
      if (storedTheme === 'dark') {
        document.documentElement.setAttribute('data-theme', 'dark');
        themeToggle.checked = true;
      } else {
        document.documentElement.setAttribute('data-theme', 'light');
        themeToggle.checked = false;
      }

      // Listen for toggle change
      themeToggle.addEventListener('change', () => {
        const theme = themeToggle.checked ? 'dark' : 'light';
        document.documentElement.setAttribute('data-theme', theme);
        localStorage.setItem('theme', theme);
      });
    </script>
    {{ partialCached "common/js.html" . }}
  </body>
</html>
